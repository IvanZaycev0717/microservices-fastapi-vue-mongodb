# –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –≤ Kubernetes - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω kubectl
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Minikube  
- [x] –ó–∞–ø—É—â–µ–Ω Minikube –∫–ª–∞—Å—Ç–µ—Ä
- [x] –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ k8s –¥–ª—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤

### 2. –ë–∞–∑–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã Kubernetes
- [x] –°–æ–∑–¥–∞–Ω namespace `microservices-app`
- [x] –°–æ–∑–¥–∞–Ω ConfigMap `app-config` —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [x] –°–æ–∑–¥–∞–Ω Secret `app-secrets` —Å –ø–∞—Ä–æ–ª—è–º–∏ –∏ –∫–ª—é—á–∞–º–∏

### 3. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- [x] **MongoDB**: content-db, auth-db, notification-db
- [x] **PostgreSQL**: comments-db 
- [x] **Redis**: –∫—ç—à
- [x] –°–æ–∑–¥–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã Persistent Volumes

### 4. –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç)
- [x] **frontend** - ‚úÖ Running (–ø–æ—Ä—Ç 30000)
- [x] **admin-gui** - ‚úÖ Running (–ø–æ—Ä—Ç 30080) 
- [x] **admin-service** - ‚úÖ Running (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è init —Å–∫—Ä–∏–ø—Ç–∞)
- [x] **auth-service** - ‚úÖ Running
- [x] **content-service** - ‚úÖ Running
- [x] **comments-service** - ‚úÖ Running
- [x] **api-gateway** - ‚ùå CrashLoopBackOff (–ø—Ä–æ–±–ª–µ–º—ã —Å Kafka)
- [x] **notification-service** - ‚ùå CrashLoopBackOff (–ø—Ä–æ–±–ª–µ–º—ã —Å Kafka)

### 5. Kafka (–æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞)
- [x] –°–æ–∑–¥–∞–Ω—ã StatefulSet –¥–ª—è 3 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ 3 –±—Ä–æ–∫–µ—Ä–æ–≤
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è discovery
- [x] ‚ùå –í—Å–µ Kafka pods –≤ CrashLoopBackOff

## üöß –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:
1. **Kafka –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** - –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–∞–¥–µ–Ω–∏—è api-gateway –∏ notification-service
   - –û—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ KRaft mode
   - –ü—Ä–æ–±–ª–µ–º—ã —Å advertised listeners
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ storage

2. **–°–µ—Ç–µ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
   - DNS resolution –º–µ–∂–¥—É –ø–æ–¥–∞–º–∏
   - Timeouts –≤ init —Å–∫—Ä–∏–ø—Ç–∞—Ö

### –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ:
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ingress –¥–ª—è –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞**
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å –∑–∞–≤—Ç—Ä–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: Kafka
```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
kubectl logs -n microservices-app kafka-broker-0 --previous
kubectl describe pod -n microservices-app kafka-broker-0
